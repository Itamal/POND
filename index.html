<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>pond</title>

    <link rel="stylesheet" href="style.css">
	<script type="text/javascript" src="wz_jsgraphics.js"></script>

  </head>
  <body>
	<script src="index.js"></script>
	<script type="text/javascript">
	let x = 30*Math.random()
	let opacity = 1
	if (x<3){x=3}
	let factor = Math.min(Math.round(window.screen.availWidth/x),Math.round(window.screen.availHeight/x)) - 20

function pond_draw(ripple){

	for (let i = ripple; i > 0	; i--) {
		id = "div" + i
		var id = new jsGraphics(); // draw directly into document
		let color1 = "rgba(0,0,0,"+opacity+")"
		let color2 = "rgba(255,255,255,"+opacity+")"
		let color3 = "rgba(255,0,0,"+opacity+")"
		if (i%3 === 0){
		id.setColor(color1);
		} else if ((i+1)%3 === 0 ){
		id.setColor(color2);
		} else {
		id.setColor(color3);
		
		}
		prepi = x*i + (1-Math.random())/(x*i)
		id.fillEllipse(Math.random()/prepi + Math.random()*prepi, Math.random()/prepi + Math.random()*prepi - 37, prepi, prepi); // co-ordinates related to the document
		
		id.paint(); // draws, in this case, directly into the document
		id.setPrintable(true);
		if (Math.random() > 0.4){id.clear()}
		
	}
}
pond_draw(factor);

</script>
  </body>
</html>